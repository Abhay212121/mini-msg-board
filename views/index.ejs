<html>
  <head>
    <title>Message App</title>
    <link
      rel="stylesheet"
      href="styles/styles.css"
    />
    <link
      rel="preconnect"
      href="https://fonts.googleapis.com"
    />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Coiny&family=Patrick+Hand&family=Patrick+Hand+SC&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="bg-[url(/images/bg.jpg)] bg-center bg-cover">
    <%- include('header.ejs') %>
    <div class="py-10 px-5 flex gap-y-1 flex-wrap">
      <% message.forEach((msg) => { %>
      <a href="/message/<%=msg.id %>"
        ><div
          class="w-[24vw] h-[44vh] p-8 <%= msg.bg %> <%=msg.rotation %> hover:rotate-0 transition hover:duration-400 hover:scale-110 hover:border-4 border-gray-500 shadow-2xl hover:z-1 ease-in-out cursor-pointer hover:p-7"
        >
          <div class="flex justify-between">
            <div class="flex gap-2 text-2xl">
              <p class="underline font-body font-bold">From:</p>
              <p class="font-data"><%= msg.user %></p>
            </div>
            <div class="font-data text-2xl"><%= msg.added %></div>
          </div>
          <div class="mt-3 font-data text-xl break-words">
            <% if (msg.text.length > 200) { %> <%= msg.text.slice(0, 200)
            +'.........' %> <% } else { %> <%= msg.text %> <% } %>
          </div>
        </div></a
      >
      <%})%>
    </div>
  </body>
</html>
